<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Q3 2nd Graded Exercise">
    <meta name="keywords" content="HTML Forms">
    <meta name="author" content="Karl Gojar">
    <title>Sample Form</title>
    <!-- updated external css link to show how to share it between repository -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../styles.css" />
    <link rel="icon" href="../../assets/pshslogo.png" sizes="32x32" type="image/png">
    <script src="script.js" defer></script>
   <style>
    body{
        padding: 25px;
        font-family: arial;
        width: 80%;
        margin-left: 10%;
    }
    table {
        border-collapse: collapse;
        width: 100%;
    }
    table, th, td {
        border: 1px solid white;
        padding: 5px;
    }
    </style>
  </head>
  <body>
     <header>
        <div>
            <h1>
                Show List of Accounts    
            </h1>
            <h3>by Karl Gojar </h3>
        </div>
        <nav class="navbar">
            <a href="2nd Graded Excercise Q3 - Form.html"> Create Account </a>
        </nav>
    </header>
    <section>
      <h1 class="title">Account Saved In Your Computer</h1>
      <table id="results"> </table>
      
    </section>
    <script>
        // read from the localStorage saved as a string - to see if there are anything saved on the users computer
        let acctString = localStorage.getItem("accounts")
        if (!acctString) { accountList = "No Accounts Found" } // initialize the variable to contain the list of accounts object
        else {
            
            accountList = JSON.parse(acctString) // converts string into the correct data type in this case object    
            rowString = "<tr><th>Username</th><th>DOB</th><th>Gender</th><th>DP Check</th><th>About</th></tr>";
            // results.innerHTML = ""  // resets the table
            console.log(accountList)
            for (let key in accountList) {
                rowString += "<tr>";
                rowString += "<td>" + key + "</td>";
                rowString += "<td>" + accountList[key].dob + "</td>";
                rowString += "<td>" + accountList[key].gender + "</td>";
                rowString += "<td>" + accountList[key].dp + "</td>";
                rowString += "<td>" + accountList[key].about + "</td></tr>";
            }
        }
        results.innerHTML = rowString;

    </script>
  </body>
</html>